---
layout: post
title: 运算电路基础（1）
category : 计算机系统原理
tags : [notes, 原理]
stickie: true
---

数字逻辑电路基础
===

组合逻辑部件
---
根据电路是否具有存储功能，将逻辑电路划分为两种类型  
组合逻辑电路：没有存储功能，其输出仅依赖于输入  
时序逻辑电路：具有存储功能，其输出不仅依赖于当前输入，还依赖于存储单元的当前状态

多路选择器
---
K路选择器应该有k路输入，因而控制端S的位数应该是$log_2 K$

一位加法器
---
一位加法器称为全加器。两个加数A和B，低位进位为cin和为F,向高位的位为cout
化简后逻辑表达式为
F = A⊕B⊕cin
cout = A•B + A•cin + B•cin

n位带符号数加法器
---
程序中经常比较大小，通过做减法得到的标识信息实现

![1.png](http://wx2.sinaimg.cn/mw690/af2d2659gy1ffcz5xyd7xj20ef07w75o.jpg)

溢出标志OF:
OF = C_n⊕C_(n-1)
符号标志SF:
SF = F_(n-1)
0标志ZF=1当且仅当F=0；
进位借位标志CF:
CF = cout⊕cin

算数逻辑单元
---
进行基本的算术运算和逻辑运算：无符号整数加减、带符号整数加减、与或非异或等逻辑运算
核心电路是带标志加法器
有一个操作控制端（ALUop），用来决定ALU所执行的处理功能。ALUop的位数k决定了操作的种类，例如，当位数k为3时，ALU最多只有2^3=8种操作。

<table border="1" align="left">
    <tr>
        <td>ALUop    Result</td>
        <td>ALUop    Result</td>
        <td>ALUop    Result</td>
        <td>ALUop    Result</td>
    </tr>
    <tr>
        <td>000       a+b</td>
        <td>010       a&b</td>
        <td>100       ~a</td>
        <td>110       a </td>
    </tr>
    <tr>
        <td>001       a-b</td>
        <td>011       a|b</td>
        <td>101       a⊕b</td>
        <td>      未用    </td>
    </tr>
</table>
<br />
<br />
<br />

[好用的md表格轮子](https://link.zhihu.com/?target=http://fanfeilong.github.io/exceltk0.0.4.7z)

从c表达式到逻辑电路
===

从c表达式到运算类指令
---
基本数据类型：无符号数（二进制）、带符号整数（补码）、浮点数（IEEE 754）、字符串（ASCII）
基本算术运算符中的算术运算符在底层都是减法实现。
对于c赋值语句y = (x>>2)+k;是通过转换为指令序列，通过执行运算类指令实现。

```
sarw $2,%ax;//将操作数“2”和“R[ax]”送移位器运算
addw %bx,%ax;//将R[ax]和R[bx]送整数加减运算器中运算
```

数据的运算
---
指令集中涉及到的运算
涉及到的定点运算：带符号整数（取负、符号扩展、加、减、乘、除、算术移位）、无符号整数（0扩展、加、减、乘、除、逻辑移位）、逻辑操作（与、或、非）
涉及到的浮点数运算：加、减、乘、除