---
layout: post
title: Leetcode 49:字母异位词分组（最详细解决方案！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2018-06-09 00:00:00
---

给定一个字符串数组，将字母异位词组合在一起。字母异位词指字母相同，但排列不同的字符串。

**示例:**

```
输入: ["eat", "tea", "tan", "ate", "nat", "bat"],
输出:
[
  ["ate","eat","tea"],
  ["nat","tan"],
  ["bat"]
]
```

**说明：**

- 所有输入均为小写字母。
- 不考虑答案输出的顺序。

**解题思路**

[ Leetcode 242:有效的字母异位词（最详细解决方案！！！）](https://blog.csdn.net/qq_17550379/article/details/80570244)

[ Leetcode 438:找到字符串中所有字母异位词（最详细解决方案！！！）](https://blog.csdn.net/qq_17550379/article/details/80550907)

基于上面两篇，我们对于异位词问题已经有了一定的认识了，所谓的异位词不过是，单词对应的不同字母的个数都一样。

所以我们可以将输入列表**strs**中的字符串通过`collections.Counter`统计字符出现的个数，接着将相同的`counter`放到一个列表中即可，但是这里不合适因为`counter`不能作为`key`，因为是不可`hash`的对象。所以这种方式好像不可行，我们还有没有办法判断异位词呢？我们可以将所有的`str`排序后比较。那么我们可以将排序好的`str`作为`key`，那么`value`是什么呢？`value`应该是`result`列表中`str`对应列表的位置。例如

```
[
  ["ate","eat","tea"],
  ["nat","tan"],
  ["bat"]
]
```

`result`例表中`ate`对应的位置应该是和`eta`和`tea`相同，都是`0`。于是我们就有了如下的算法

```python
class Solution:
    def groupAnagrams(self, strs):
        """
        :type strs: List[str]
        :rtype: List[List[str]]
        """
        strs_map = {}
        result = []
        for i in strs:
            string = ''.join(sorted(i))
            if string not in strs_map:
                strs_map[string] = len(result)
                result.append([string])
            else:
                result[strs_map[string]].append(string)
        return result
```

或者我们的`key`是排序好的`str`，而`value`是一个`list`，里面存放的是没有排序的`str`。

```python
class Solution:
    def groupAnagrams(self, strs):
        """
        :type strs: List[str]
        :rtype: List[List[str]]
        """
        strs_map = {}
        result = []
        for string in strs:
            tmp = ''.join(sorted(string))
            if tmp in strs_map:
                strs_map[tmp].append(string)
            else:
                strs_map[tmp] = [string]
                
        for str_list in strs_map.values():
            result.append(str_list)
        
        return result
```

我更加喜欢第二种做法。

我们还有一种更`pythonic`的写法

```python
class Solution:
    def groupAnagrams(self, strs):
        """
        :type strs: List[str]
        :rtype: List[List[str]]
        """
        from collections import defaultdict
        dic = defaultdict(list)
        for s in strs: 
            dic["".join(sorted(s))].append(s)
        return list(dic.values())
```

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**