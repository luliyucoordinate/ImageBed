---
layout: post
title: 浮点数的表示
category : 计算机系统原理
tags : [notes, 原理]
stickie: true
---

第0位符号S；第1-8位为8位移码表示阶码E；第9-31位为24位二进制原码小数表示的尾数M。规格化尾数的小数点后第一位是1，故规定的第一位默认的“1”不明显表示出来。这样可用23个数位表示24位尾数。  
移码 定点整数，用来表示浮点数的阶，移码和补码差别仅仅是符号位差别相反。也可以这样计算 偏致常数+目标数=移码  
最大正数：$0.11…1 * 2^{(11…1)}= (1 - 2^{(-24)}) * 2^{127}$  
最小正数：$0.10…0 * 2^{(00…0)} = (1/2) * 2^{(-128)}$  
机器0：尾数为0或落在下溢区中的数  
浮点数范围比定点数大，但数的个数没有变多，数之间更稀疏，不均匀。  
为了表示更多的有效数字，通常规定规格化数的小数点前为1。  
在IEEE 754标准中  
Sign bit：1表示negative；0表示positive  
Exponent（阶码）：  
SP规格化阶码范围为0000 0001（-126）~1111 1110（127）（全0或全1表示特殊值）  
Bias为127（single），1023（double）  
要注意的是双精度数的Exponent是11位，Significand为52位  
SP:$$ (-1)^S * (1 + Significand) * 2^{(Exponent-127)}$$  
DP: $$(-1)^S * (1 + Significand) * 2^{(Exponent-1023)}$$

How to represent 0?
---
Exponent: all zeros  
Significand: all zeros  
What about sign? Both cases calid.  
浮点数除0的结果是+/-∞，而不是溢出异常（整数除0异常）  
这样做的原因是：可以利用+∞/-∞作比较。

How to represent +∞/-∞?
---
Exponent: all ones  
Significand: all zeros  
相关操作：  
5.0 / 0 = +∞

“非数”的表示
---
Sqrt(-4.0) = ?  0/0 = ?  
称为Not a Number(NaN) – “非数”  
How to represent NaN?  
Exponent = 255  
Significand：nonzero  
NaNs可以帮助调试程序  
相关操作：  
sqrt(-4.0) = NaN

非规格化数
---
Exponent: all ones  
Significand: nonzero 
并且它的首位数字不再是1而是0

非数值数据的编码
---
逻辑数据的编码表示  
计算机中何时会用到逻辑及数据？  
用一位表示，N位二进制可表示N个逻辑数据，运算时按位进行，逻辑数据和数值数据在形式上并无差异，也是一串0/1序列，计算机靠指令来识别。

西文字符的编码表示
---
特点：只是一种拼音文字，用有限的几个字母拼写出所有的单词。只需要对有限的字母和数学符号、标点符号等辅助字符编码。所有的字符总数不超过256，使用7或8个二进制可表示。  
表示：常用7位ASCII码表示  
操作：字符串操作

汉字及国际字符的编码
---
汉字特点：汉字是一种图形文字，汉字数据量非常大 
编码形式：输入码：对汉字用相应按键进行编码表示，用于输入  
内码：用于系统中进行存储、查找、传送等处理  
字模点阵或轮廓描述：描述汉字字模点阵或轮廓，用于显示/打印  
西文字符没有输入码，内码就是ASCII，有字模点阵 
至少需要两个字节才可以表示汉字内码，有汉字的总数（超过6万字）决定。  
可在GB2312国标码的基础上产生汉字内码  
为了与ASCII区别，将国标码的两个字节的第一位置“1”后得到一种汉字内码。例如 
汉字“大”在码表中位于20行，83列。因此区位码为0010100 1010011，在区位码上加32得到两个字节的编码，即00110100 01110011=3473H。前面的34H和字符“4”的ASCII码相同，后面的73H和字符“S”的ASCII码相同，但是，将每个字节的最高位各设为“1”后，就得到其内码：10110100 11110011=B4F3H，因此不会和ASCII码混淆。
