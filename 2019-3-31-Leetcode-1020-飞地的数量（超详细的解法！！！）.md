---
layout: post
title: Leetcode 1020：飞地的数量（超详细的解法！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2019-3-31 00:00:00
---

给出一个二维数组 `A`，每个单元格为 0（代表海）或 1（代表陆地）。

移动是指在陆地上从一个地方走到另一个地方（朝四个方向之一）或离开网格的边界。

返回网格中**无法**在任意次数的移动中离开网格边界的陆地单元格的数量。

**示例 1：**

```
输入：[[0,0,0,0],[1,0,1,0],[0,1,1,0],[0,0,0,0]]
输出：3
解释： 
有三个 1 被 0 包围。一个 1 没有被包围，因为它在边界上。
```

**示例 2：**

```
输入：[[0,1,1,0],[0,0,1,0],[0,0,1,0],[0,0,0,0]]
输出：0
解释：
所有 1 都在边界上或可以到达边界。
```

**提示：**

1. `1 <= A.length <= 500`
2. `1 <= A[i].length <= 500`
3. `0 <= A[i][j] <= 1`
4. 所有行的大小都相同

**解题思路**

这个问题非常简单，和之前问题[Leetcode 130：被围绕的区域（最详细的解法！！！）](https://blog.csdn.net/qq_17550379/article/details/82688731)非常类似，直接抄过来就过了。

```python
class Solution:
    def numEnclaves(self, A: List[List[int]]) -> int:
        self.res = 0
        self.solve(A)
        return self.res
        
    def solve(self, board):
        if not board:
            return None

        m, n = len(board), len(board[0])

        def _solve(i, j):
            if 0 <= i < m and 0 <= j < n and board[i][j] == 1:
                board[i][j] = 2
                list(map(_solve, (i+1, i-1, i, i), (j, j, j+1, j-1)))

        for i in range(m):
            list(map(_solve, (i, i), (0, n - 1)))

        for i in range(n):
            list(map(_solve, (0, m - 1), (i, i)))

        for i in range(m):
            for j in range(n):
                if board[i][j] == 1:
                    board[i][j] = 0
                    self.res += 1
                elif board[i][j] == 2:
                    board[i][j] = 1
```

我们借鉴这种思想可以写出更加简洁的代码

```python
class Solution:
    def numEnclaves(self, A: List[List[int]]) -> int:
        def dfs(i, j):
            if 0 <= i < m and 0 <= j < n and A[i][j] == 1:
                A[i][j] = 0
                list(map(dfs, (i+1, i-1, i, i), (j, j, j+1, j-1)))

        m, n = len(A), len(A[0])
        for i in range(m):
            list(map(dfs, (i, i), (0, n - 1)))

        for i in range(n):
            list(map(dfs, (0, m - 1), (i, i)))
            
        return sum(sum(row) for row in A)
```

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**