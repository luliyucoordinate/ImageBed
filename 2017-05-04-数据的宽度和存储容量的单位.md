---
layout: post
title: 数据的宽度和存储容量的单位
category : 计算机系统原理
tags : [notes, 原理]
stickie: true
---


数据的基本宽度
---
比特是计算机中处理、存储、传输信息的最小单位  
二进制信息最基本的单位是 “字节”，现代计算机中，存储器按字节编址，字节是最小的寻址单位。如果以字节为一个排列单位，则LSB表示最低有效字节，MSB表示最高有效字节  
除位和字节外，还经常用“字”作为单位。  
字与字长的概念不同，IA-32中的字是16位，表示被处理信息的单位，用来度量数据类型的宽度。而字长是32位，指定点数据通路的宽度，等于CPU内的总线宽度、运算器的位数、通用寄存器的宽度。  
例如：对于x86架构，不管字长多少，定义字的宽度都为16位，而从386开始字长就是32位了。

数据的存储和排列顺序
---
变量的地址是其最小地址。例如：  
若int x = -110;，x的存放地址是100，即x存放在100#~103#  
多个字节在存储单元中存储方式分为大端方式和小端方式，在intel中是按小端方式存放数据的，也就是数据的最高位存放在地址的最低位。  
Union的存放顺序是所有成员从低地址开始，利用该特性可测试CPU的大/小端方式。

```c
#include<stdio.h>
void main()
{
	union NUM
	{
		int a;
		char b;
	} num;
	num.a = 0x1234567;
	if(num.b == 0x12)
	{
		printf("Big Endian\n");
	}
	else
	{
		printf("Little Endian\n");
	}
	printf("num.b = 0x%X\n", num.b);
}
```
假定小端方式机器中某条指令的地址为1000  
该指令的汇编形式为：mov AX, 0x12345(BX)  
其中操作码 mov 为40H，寄存器AX和BX的编号分别为0001B和0010B。立即数占32位，则存放顺序为：  
401245230100  小端方式  
401200012345  大端方式
