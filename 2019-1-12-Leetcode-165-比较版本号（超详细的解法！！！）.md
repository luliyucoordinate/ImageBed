---
layout: post
title: Leetcode 165:比较版本号（超详细解决方案！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2019-1-12 00:00:00
---

比较两个版本号 *version1* 和 *version2*。
如果 `version1 > version2` 返回 `1`，如果 `version1 < version2` 返回 `-1`， 除此之外返回 `0`。

你可以假设版本字符串非空，并且只包含数字和 `.` 字符。

 `.` 字符不代表小数点，而是用于分隔数字序列。

例如，`2.5` 不是“两个半”，也不是“差一半到三”，而是第二版中的第五个小版本。

你可以假设版本号的每一级的默认修订版号为 `0`。例如，版本号 `3.4` 的第一级（大版本）和第二级（小版本）修订号分别为 `3` 和 `4`。其第三级和第四级修订号均为 `0`。

**示例 1:**

```
输入: version1 = "0.1", version2 = "1.1"
输出: -1
```

**示例 2:**

```
输入: version1 = "1.0.1", version2 = "1"
输出: 1
```

**示例 3:**

```
输入: version1 = "7.5.2.4", version2 = "7.5.3"
输出: -1
```

**示例 4：**

```
输入：version1 = "1.01", version2 = "1.001"
输出：0
解释：忽略前导零，“01” 和 “001” 表示相同的数字 “1”。
```

**示例 5：**

```
输入：version1 = "1.0", version2 = "1.0.0"
输出：0
解释：version1 没有第三级修订号，这意味着它的第三级修订号默认为 “0”。
```

**提示：**

1. 版本字符串由以点 （`.`） 分隔的数字字符串组成。这个数字字符串**可能**有前导零。
2. 版本字符串不以点开始或结束，并且其中不会有两个连续的点。

**解题思路**

这个问题很简单，使用`python`的话，很简洁。我们通过`'.'`进行分割，将分割的元素都转换为整数（这样做我们可以去除左边的零的影响）。然后比较此时的两个列表，对短的那个列表补零即可。

```python
class Solution:
    def compareVersion(self, version1, version2):
        """
        :type version1: str
        :type version2: str
        :rtype: int
        """
        v1 = [int(i) for i in version1.split('.')]
        v2 = [int(i) for i in version2.split('.')]
        v1_len, v2_len = len(v1), len(v2)
        
        max_len = max(v1_len, v2_len)
        v1 += [0]*(max_len - v1_len)
        v2 += [0]*(max_len - v2_len)
        
        if v1 > v2:
            return 1
        elif v1 < v2:
            return -1
        else:
            return 0
```

一个`pythonic`的写法

```python
class Solution:
    def compareVersion(self, version1, version2):
        """
        :type version1: str
        :type version2: str
        :rtype: int
        """
        v1, v2 = map(int, version1.split('.')), map(int, version2.split('.'))
        v1, v2 = zip(*itertools.zip_longest(v1, v2, fillvalue = 0))
        return (0, 1, -1)[(v1 > v2) - (v1 < v2)]
```

reference:

https://leetcode.com/problems/compare-version-numbers/discuss/50800/2-4-lines-Python-3-different-ways

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**