---
layout: post
title: Leetcode 989：数组形式的整数加法（超详细的解法！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2019-2-10 00:00:00
---

对于非负整数 `X` 而言，*X* 的*数组形式*是每位数字按从左到右的顺序形成的数组。例如，如果 `X = 1231`，那么其数组形式为 `[1,2,3,1]`。

给定非负整数 `X` 的数组形式 `A`，返回整数 `X+K` 的数组形式。

**示例 1：**

```
输入：A = [1,2,0,0], K = 34
输出：[1,2,3,4]
解释：1200 + 34 = 1234
```

**解释 2：**

```
输入：A = [2,7,4], K = 181
输出：[4,5,5]
解释：274 + 181 = 455
```

**示例 3：**

```
输入：A = [2,1,5], K = 806
输出：[1,0,2,1]
解释：215 + 806 = 1021
```

**示例 4：**

```
输入：A = [9,9,9,9,9,9,9,9,9,9], K = 1
输出：[1,0,0,0,0,0,0,0,0,0,0]
解释：9999999999 + 1 = 10000000000
```

**提示：**

1. `1 <= A.length <= 10000`
2. `0 <= A[i] <= 9`
3. `0 <= K <= 10000`
4. 如果 `A.length > 1`，那么 `A[0] != 0`

**解题思路**

这个问题显然有两种策略，一种是将数组转化为数字再转化为数组，另一种是将数字转化为数组相加。我们先看第一种做法

```python
class Solution:
    def addToArrayForm(self, A: 'List[int]', K: 'int') -> 'List[int]':
        a = 0
        for i in A:
            a = a*10 + i
            
        tmp = a + K
        if tmp == 0:
            return [0]
        res= list()
        while tmp:
            res.insert(0, tmp%10)
            tmp //= 10
        return res
```

上面这个代码实际上可以写的更加简洁

```python
class Solution:
    def addToArrayForm(self, A: 'List[int]', K: 'int') -> 'List[int]':
        return list(map(int, list(str(int(''.join(map(str, A))) + K))))
```

第二种做法类似于[Leetcode 2:两数相加（最详细解决方案！！！）](https://blog.csdn.net/qq_17550379/article/details/80435080)，也就是一个大数计算问题。

```python
class Solution:
    def addToArrayForm(self, A: 'List[int]', K: 'int') -> 'List[int]':
        K_list = list()
        while K:
            K_list.insert(0, K%10)
            K //= 10
            
        add, res = 0, list()
        while A or K_list or add:
            val = (A.pop() if A else 0) + (K_list.pop() if K_list else 0) + add
            add = val // 10
            res.insert(0, val%10)
        return res
```

我们实际上不需要将`K`转化为`list`，将`K`可以看作是一个进位，然后直接加到`A`上，同时更新`K`（也就是进位）。

```python
class Solution:
    def addToArrayForm(self, A: 'List[int]', K: 'int') -> 'List[int]':
        for i in range(len(A))[::-1]:
            A[i], K = (A[i] + K) % 10, (A[i] + K) // 10
        return [int(i) for i in str(K)] + A if K else A
```

reference:

https://leetcode.com/problems/add-to-array-form-of-integer/discuss/234488/JavaC%2B%2BPython-Straight-Froward

https://buptwc.com/2019/02/10/Leetcode-989-Add-to-Array-Form-of-Integer/

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**