---
layout: post
title: 在字符串中找出连续最长的数字串
category : cpp
tags : [cpp, 笔试]
stickie: true
---

题目描述
---

请在一个字符串中找出连续最长的数字串，并把这个串的长度返回；如果存在长度相同的连续数字串，返回最后一个连续数字串；

注意：数字串只需要是数字组成的就可以，并不要求顺序，比如数字串“1234”的长度就小于数字串“1359055”，如果没有数字，则返回空字符串（“”）而不是NULL！

输入描述
---

字符串

输出描述
---

连续数字串，在所有数字串最长的长度


样例输入
---

abcd12345ed125ss123058789

abcd12345ss54761

样例输出
---

输出123058789，函数返回值9

输出54761，函数返回值5



还是如以前一样，使用两种风格去处理这个问题，第一种是c++98

```c++
#include <iostream>
#include <string>

int main()
{
	std::string str;
	while (std::cin >> str)
	{
		std::string str_out;
		std::string str_max;
		size_t max_size = 0;
		for (size_t i = 0; i < str.size(); ++i)
		{
			if (isdigit(str[i]))
			{
				str_out += str[i];
				while (isdigit(str[i + 1]))
				{
					++i;
					str_out += str[i];
				}
				if (str_out.size() >= max_size)
				{
					max_size = str_out.size();
					str_max = str_out;
				}			
			}
			str_out.clear();
		}
		std::cout << str_max << '\n' << max_size << std::endl;
	}
}
```

c++14的风格

```c++
#include <iostream>
#include <string>
#include <sstream>

int main()
{
	std::string str;
	while (std::cin >> str)
	{
		for (auto& i : str)					//这里使用了一个小的技巧，从string流读string默认是忽略空格的，通过设置std::noskipws取消跳过空格
		{
			if (!isdigit(i))
			{
				i = ' ';
			}
		}
		std::stringstream str_temp{ str };	//这里使用了string的数据流非常好的处理手法
		std::string str_out, str_max;
		size_t max_size{};
		while (str_temp >> str_out)
		{
			if (max_size <= str_out.size())
			{
				max_size = str_out.size();
				str_max = str_out;
			}
		}
		std::cout << str_max << '\n' << max_size << std::endl;
	}
}
```