---
layout: post
title: Leetcode 1043：分隔数组以得到最大和（超详细的解法！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2019-6-29 00:00:00
---

给出整数数组`A`，将该数组分隔为长度最多为`K`的几个（连续）子数组。分隔完成后，每个子数组的中的值都会变为该子数组中的最大值。

返回给定数组完成分隔后的最大和。

**示例**：

```
输入：A = [1,15,7,9,2,5,10], K = 3
输出：84
解释：A 变为 [15,15,15,9,10,10,10]
```

**提示**：

- `1 <= K <= A.length <= 500`
- `0 <= A[i] <= 10^6`

**解题思路**

这个问题就是典型的区间动态规划，我们定义函数`f(i)`表示以`index:i`结尾的最大和，那么

- $f(i)=max_{i=1}^n(f(i-j)+max(A[i-j:i])*j)$

其中`j`的取值范围是`[1,K]`。

```python
class Solution:
    def maxSumAfterPartitioning(self, A: List[int], K: int) -> int:
        n = len(A)
        mem = [0] * (n + 1)
        for i in range(1, n + 1):
            cur = 0
            for j in range(1, K + 1):
                if i >= j:
                    cur = max(cur, A[i - j])
                    mem[i] = max(mem[i], mem[i - j] + cur * j)
        return mem[n]
```

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**