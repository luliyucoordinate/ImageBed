---
layout: post
title: Leetcode 54：螺旋矩阵（最详细的解法！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2018-10-17 00:00:00
---

给定一个包含 *m* x *n* 个元素的矩阵（*m* 行, *n* 列），请按照顺时针螺旋顺序，返回矩阵中的所有元素。

**示例 1:**

```
输入:
[
 [ 1, 2, 3 ],
 [ 4, 5, 6 ],
 [ 7, 8, 9 ]
]
输出: [1,2,3,6,9,8,7,4,5]
```

**示例 2:**

```
输入:
[
  [1, 2, 3, 4],
  [5, 6, 7, 8],
  [9,10,11,12]
]
输出: [1,2,3,4,8,12,11,10,9,5,6,7]
```

**解题思路**

这个问题其实非常简单，但是我们要考虑好边界问题。

我们这里首先定义方向：向下表示`y`正方向，向右表示`x`正方向。我们再定义两个点，分别是左上`x1,y1`和右下`x2,y2`，这样我们每循环一次将`x1++,y1++`并且`x2--,y2--`。我们每次循环的策略采用下面的这种

<center class="half">
    <img src="https://raw.githubusercontent.com/wiki/luliyucoordinate/ImageBed/54/2018_10_18_1.png">
</center>

对于`top`箭头，我们采用`[x1,x2]`这个区间。对于`right`这个箭头，我们采用`(y1,y2]`这个区间。对于`down`这个箭头，我们采用`(x2,x1)`这个区间（注意，我这里的区间定义和数学上有区别）。对于`left`这个箭头，我们采用`[y2,y1)`这个区间。对于循环的结束条件我们定义为`x1<=x2 and y1<=y2`，但是这个时候我们要单独考虑`(x2,x1)`这个区间，我们要限定`x1<x2 and y1<y2`。对于`[y2,y1)`这个区间我们也要做相同的限定`x1<x2`，为什么呢？因为当`x1==x2`的时候我们实际上只有一列要输出，而在`right`中已经输出了，所以此时我们没有必要在此输出。

```python
class Solution:
    def spiralOrder(self, matrix):
        """
        :type matrix: List[List[int]]
        :rtype: List[int]
        """
        result = list()
        if not matrix:
            return result
        r, c = len(matrix), len(matrix[0])        
        x1, y1, x2, y2 = 0, 0, c-1, r-1
        while x1 <= x2 and y1 <= y2:
            for i in range(x1, x2+1):
                result.append(matrix[y1][i])

            for j in range(y1+1, y2+1):
                result.append(matrix[j][x2])
            if x1 < x2 and y1 < y2:
                for i in range(x2-1, x1, -1):
                    result.append(matrix[y2][i])

                for j in range(y2, y1, -1):
                    result.append(matrix[j][x1])
            
            x1 += 1
            y1 += 1
            x2 -= 1
            y2 -= 1

        return result
```

这个问题对于边界的思考相当严格，所以最好画张图，反复的比对。

reference:

https://leetcode.com/problems/spiral-matrix/solution/

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**