---
layout: post
title: Leetcode 922：按奇偶排序数组 II（最详细的解法！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2018-10-14 00:00:00
---

给定一个非负整数数组 `A`， A 中一半整数是奇数，一半整数是偶数。

对数组进行排序，以便当 `A[i]` 为奇数时，`i` 也是奇数；当 `A[i]` 为偶数时， `i` 也是偶数。

你可以返回任何满足上述条件的数组作为答案。

**示例：**

```
输入：[4,2,5,7]
输出：[4,5,2,7]
解释：[4,7,2,5]，[2,5,4,7]，[2,7,4,5] 也会被接受。
```

**提示：**

1. `2 <= A.length <= 20000`
2. `A.length % 2 == 0`
3. `0 <= A[i] <= 1000`

**解题思路**

这个问题非常简单，最简答的思路就是建立`odd`和`even`两个数组。然后遍历`A`，将奇数和偶数分别加入到对应数组中，最后再将两个数组中的元素分别插入到`result`中。

```python
class Solution:
    def sortArrayByParityII(self, A):
        """
        :type A: List[int]
        :rtype: List[int]
        """
        result, even, odd = list(), list(), list()
    
        for a in A:
            if a%2 == 0:
                even.append(a)
            else:
                odd.append(a)

        while even and odd:
            result.append(even.pop())
            result.append(odd.pop())

        return result
```

这种做法当然不是最好的。我们可以只开辟了一次空间就完成了任务。

```python
class Solution:
    def sortArrayByParityII(self, A):
        """
        :type A: List[int]
        :rtype: List[int]
        """
        A_len, i, j = len(A), 0, 1
        result = [0]*A_len
        for a in A:
            if a&1 == 0:
                result[i] = a
                i += 2
            else:
                result[j] = a
                j += 2

        return result
```

这里要注意的是，在`python`中`&`优先级大于`==`，而在`c++`中相反。

我们也可以不使用额外的空间就可以解决这个问题。我们遍历`A`的偶数位置，如果发现当前位置的值不是偶数的话，我们就要从当前位置开始找下一个奇数位置不是奇数的那个值，我们将他们交换一下顺序即可。

```python
class Solution:
    def sortArrayByParityII(self, A):
        """
        :type A: List[int]
        :rtype: List[int]
        """
        A_len, i, j = len(A), 0, 1
        while i < A_len:
            if A[i] % 2 == 1:
                while A[j] % 2 == 1:
                    j += 2
                
                A[i], A[j] = A[j], A[i]

            i += 2

        return A
```

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**