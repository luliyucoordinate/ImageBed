---
layout: post
title: Leetcode 958：二叉树的完全性检验（超详细的解法！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2018-12-25 00:00:00
---

给定一个二叉树，确定它是否是一个*完全二叉树*。

**百度百科中对完全二叉树的定义如下：**

若设二叉树的深度为 h，除第 h 层外，其它各层 (1～h-1) 的结点数都达到最大个数，第 h 层所有的结点都连续集中在最左边，这就是完全二叉树。（注：第 h 层可能包含 1~ 2h 个节点。）

**示例 1：**

<center class="half">
    <img src="https://assets.leetcode.com/uploads/2018/12/15/complete-binary-tree-1.png" width="200" hegiht="200">
</center>

```
输入：[1,2,3,4,5,6]
输出：true
解释：最后一层前的每一层都是满的（即，结点值为 {1} 和 {2,3} 的两层），且最后一层中的所有结点（{4,5,6}）都尽可能地向左。
```

**示例 2：**

<center class="half">
    <img src="https://assets.leetcode.com/uploads/2018/12/15/complete-binary-tree-2.png" width="200" hegiht="200">
</center>

```
输入：[1,2,3,4,5,null,7]
输出：false
解释：值为 7 的结点没有尽可能靠向左侧。
```

**提示：**

1. 树中将会有 1 到 100 个结点。

**解题思路**

这个问题非常简单，我们首先观察第二个例子，我们发现少了`6`，并且我们只要左孩子是`root*2`，而右孩子是`root*2+1`，所以我们可以层序遍历所有的节点然后记录所有节点对应的值，最后我们只要判断最后一个节点的值和节点的个数是不是一样即可。

```python
class Solution:
    def isCompleteTree(self, root):
        """
        :type root: TreeNode
        :rtype: bool
        """
        nodes = [(root, 1)]
        
        i = 0
        while i < len(nodes):
            node, k = nodes[i]
            i += 1
            if node:
                nodes.append((node.left, i * 2))
                nodes.append((node.right, i * 2 + 1))
                
        return len(nodes) == nodes[-1][1]
```

我们也可以层序遍历，自左向右寻找第一个空的节点，然后我们只需要判断，其后是否还有节点即可。

```python
class Solution:
    def isCompleteTree(self, root):
        """
        :type root: TreeNode
        :rtype: bool
        """
        nodes = [root]
        i = 0
        
        while nodes[i]:
            nodes.append(nodes[i].left)
            nodes.append(nodes[i].right)
            i += 1
            
        return not any(nodes[i:])
```

reference:

https://leetcode.com/problems/check-completeness-of-a-binary-tree/solution/

https://leetcode.com/problems/check-completeness-of-a-binary-tree/discuss/205682/JavaC%2B%2BPython-BFS-Level-Order-Traversal

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**