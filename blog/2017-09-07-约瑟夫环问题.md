---
layout: post
title: 特殊约瑟夫环问题
category : cpp
tags : [cpp, 笔试]
stickie: true
---

题目描述
---

100个人围成一圈，每个人有一个编码，编号从1开始到100。他们从1开始依次报数，报到为M的人自动退出圈圈，然后下一个人接着从1开始报数，直到剩余人数小于M。请问最后剩余的人在原先的编号为多少？例如输入M=3时，输出为：“58,91”，输入M=4时，输出为：“34,45,97”

输入描述
---

函数原型void NumberOffGame(int m, char * output);

输入的m，m为大于1且小于100的整数。

输出描述
---

输出output，其中output已经分配足够的内存空间，无需单独分配；如果m输入小于等于1，则输出“ERROR!”；如果m输入大于等于100，则输出“ERROR!”；否则按照编号从小到大的顺序，以","分个输出编号字符串，输出的字符串中标点符号均为半角字符。

样例输入
---

3

样例输出
---

58,91


```c++
#include <iostream>
#include <vector>

void NumberOffGame(int m, char * output)	//说实话我被这个接口的设计恶心到了
{
	std::vector<int> num;
	for (int i = 1; i <= 100; ++i)
	{
		num.push_back(i);
	}
	int count = 0;
	while(num.size() >= m)
	{
		int goal = (count + m - 1) % num.size();
		num.erase(std::begin(num) + goal);
		count = goal % num.size();
	}
	char temp[100] = { 0 };
	int out_size = 0;
	if (num.size() == 1)
	{
		snprintf(output, 10000, "%d", num[0]);
	}
	else
	{
		for (int i = 0; i < num.size(); ++i)
		{
			snprintf(temp, 100, "%d", num[i]);
			int temp_size = std::strlen(temp);
			int j = 0;
			if (i == 0)
			{
				while (j < temp_size)
				{
					output[out_size] = temp[j++];
					++out_size;
				}				
			}
			else
			{
				output[out_size++] = ',';
				while (j < temp_size)
				{					
					output[out_size] = temp[j++];
					++out_size;
				}
			}
		}
	}		
}
int main()
{
	size_t m;
	while (std::cin >> m)
	{		
		if (m <= 1 || m >= 100)
		{
			std::cout << "ERROR!";
			return -1;
		}
		char output[10000] = { 0 };
		
		NumberOffGame(m, output);
		std::cout << output << std::endl;
	}
}
```
我不太清楚c++14是否能更加的简洁