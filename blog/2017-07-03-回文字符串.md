---
layout: post
title: 回文字符串
category : cpp
tags : [cpp, 回文字符串]
stickie: true
---


写一个程序，他用一个stack<T>容器适配器实例将从键盘输入的一行文字反向。程序应该输出反向后的结果，并判断和原始字符串是否回文（回文字符串是一个正向和反向都相同的字符串----如果忽略空格和标点的话，例如Are we not drawn onward to a new era?）

```c++
#include <stack>
#include <iostream>
#include <algorithm>
#include <string>
#include <stdexcept>
#include <iterator>
using namespace std;
int fun(int low, int high, string str, int index)
{
	if (index == 0 || index == 1)
	{
		return 1;
	}
	if (str.at(low) != str.at(high))
	{
		return 0;
	}
	return fun(low + 1, high - 1, str, index - 2);
}
int main()
{
	stack<char> words;
	bool flag{};
	string exp;
	try
	{
		while (true)
		{
			size_t index{};
			getline(cin, exp, '\n');
			if (exp.empty()) break;
			while (index != exp.length())
			{
				words.push(exp.at(index++));
			}
			exp.erase(remove(begin(exp), end(exp), ' '), end(exp));
			exp.erase(remove(begin(exp), end(exp), '?'), end(exp));
			exp.erase(remove(begin(exp), end(exp), ','), end(exp));
			exp.erase(remove(begin(exp), end(exp), '.'), end(exp));
			
			while (!words.empty())
			{
				cout << words.top();
				words.pop();
			}
			index = exp.length();
			if (fun(0, index - 1, exp, index))
			{
				cout << "  OK" << endl;
			}
			else
			{
				cout << "  NO" << endl;
			}
		}
	}
	catch (const exception& e)
	{
		cerr << e.what() << endl;
	}
	system("pause");
}
```