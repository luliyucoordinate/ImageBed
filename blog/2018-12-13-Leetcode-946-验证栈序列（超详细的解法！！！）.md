---
layout: post
title: Leetcode 946：验证栈序列（超详细的解法！！！）
category : 算法
tags : [python, c, c++]
stickie: true
date: 2018-11-23 00:00:00
---

给定 `pushed` 和 `popped` 两个序列，只有当它们可能是在最初空栈上进行的推入 push 和弹出 pop 操作序列的结果时，返回 `true`；否则，返回 `false` 。

**示例 1：**

```
输入：pushed = [1,2,3,4,5], popped = [4,5,3,2,1]
输出：true
解释：我们可以按以下顺序执行：
push(1), push(2), push(3), push(4), pop() -> 4,
push(5), pop() -> 5, pop() -> 3, pop() -> 2, pop() -> 1
```

**示例 2：**

```
输入：pushed = [1,2,3,4,5], popped = [4,3,5,1,2]
输出：false
解释：1 不能在 2 之前弹出。 
```

**提示：**

1. `0 <= pushed.length == popped.length <= 1000`
2. `0 <= pushed[i], popped[i] < 1000`
3. `pushed` 是 `popped` 的排列。

**解题思路**

这个问题非常简单，模拟题目的入栈出栈操作就可以了。当`pushed`不为空的时候，我们弹出`pushed`的第一个元素加入到`tmp`中

<center class="half">
    <img src="https://raw.githubusercontent.com/wiki/luliyucoordinate/ImageBed/946/2018_12_13_1.png" width="300" hegiht="300">
</center>

我们发现此时的`tmp`最后一个元素和`popped`中的第一个元素不一样

<center class="half">
    <img src="https://raw.githubusercontent.com/wiki/luliyucoordinate/ImageBed/946/2018_12_13_2.png" width="300" hegiht="300">
</center>

我们继续压入`pushed`中的元素。

<center class="half">
    <img src="https://raw.githubusercontent.com/wiki/luliyucoordinate/ImageBed/946/2018_12_13_3.png" width="300" hegiht="300">
</center>

我们发现此时`tmp[-1]==popped[0]`，所以我们进行弹出操作，分别弹出两个相同的元素。

<center class="half">
    <img src="https://raw.githubusercontent.com/wiki/luliyucoordinate/ImageBed/946/2018_12_13_4.png" width="300" hegiht="300">
</center>

我们发现此时的元素又不相同了，我们再次压入`pushed`中的第一个元素。

<center class="half">
    <img src="https://raw.githubusercontent.com/wiki/luliyucoordinate/ImageBed/946/2018_12_13_5.png" width="300" hegiht="300">
</center>

接着就是一系列的弹出操作。我们最后只要判断`tmp`中的元素是不是空即可确定栈顺序是不是合理。

```python
class Solution:
    def validateStackSequences(self, pushed, popped):
        """
        :type pushed: List[int]
        :type popped: List[int]
        :rtype: bool
        """
        tmp = list()
        while pushed:
            p = pushed.pop(0)
            tmp.append(p)
            while tmp and popped[0] == tmp[-1]:
                popped.pop(0)
                tmp.pop()
            
        return not tmp
```

**我将该问题的其他语言版本添加到了我的[GitHub Leetcode](https://github.com/luliyucoordinate/Leetcode)**

**如有问题，希望大家指出！！！**