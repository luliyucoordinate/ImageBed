---
layout: post
title: 	快速口算
category : python
tags : [python, requests, re]
stickie: true
---

小明要参加一个高技能比赛，要求每个人都要能够快速口算四则运算，2秒钟之内就能够得到结果，但是小明就是一个小学生没有经过特殊的培训，那小明能否通过快速口算测验呢？

<a href="http://wx2.sinaimg.cn/mw690/af2d2659gy1fi1242bu9vj20hb02cgli.jpg" data-lightbox="roadtrip">
<img src="http://wx2.sinaimg.cn/mw690/af2d2659gy1fi1242bu9vj20hb02cgli.jpg" class="img-fluid">
</a>

问题的难点是在于要在短时间内计算和提交数据，这个问题非常的实用。我是通过以下脚本破之：

```python
import re
import requests

url = r'http://lab1.xseclab.com/xss2_0d557e6d2a4ac08b749b61473a075be1/index.php'
t_session = requests.Session()
get_url = t_session.get(url)
res = unicode(get_url.content, 'utf-8').encode('gbk')
num = re.findall(re.compile(r'<br/>\s+(.*?)='), res)[0]
get_url = t_session.post(url, data={'v': eval(num)})
print re.findall(re.compile(r'<body>(.*?)</body>'), get_url.content)[0]
```